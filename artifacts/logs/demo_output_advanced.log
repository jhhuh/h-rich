Resolving dependencies...
Build profile: -w ghc-9.10.3 -O1
In order, the following will be built (use -v for more details):
 - h-rich-0.1.0.0 (lib) (cannot read state cache)
 - h-rich-0.1.0.0 (exe:h-rich-demo) (configuration changed)
Configuring library for h-rich-0.1.0.0...
Preprocessing library for h-rich-0.1.0.0...
Building library for h-rich-0.1.0.0...
[ 1 of 14] Compiling HRich.Box        ( src/HRich/Box.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Box.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Box.dyn_o ) [Flags changed]
[ 2 of 14] Compiling HRich.Color      ( src/HRich/Color.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Color.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Color.dyn_o ) [Flags changed]
[ 3 of 14] Compiling HRich.Style      ( src/HRich/Style.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Style.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Style.dyn_o ) [Flags changed]
[ 4 of 14] Compiling HRich.Segment    ( src/HRich/Segment.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Segment.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Segment.dyn_o ) [Flags changed]
[ 5 of 14] Compiling HRich.Renderable ( src/HRich/Renderable.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Renderable.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Renderable.dyn_o ) [Flags changed]
[ 6 of 14] Compiling HRich.Columns    ( src/HRich/Columns.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Columns.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Columns.dyn_o ) [Flags changed]
[ 7 of 14] Compiling HRich.Progress   ( src/HRich/Progress.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Progress.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Progress.dyn_o ) [Flags changed]
[ 8 of 14] Compiling HRich.Panel      ( src/HRich/Panel.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Panel.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Panel.dyn_o ) [Flags changed]
[ 9 of 14] Compiling HRich.Text       ( src/HRich/Text.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Text.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Text.dyn_o ) [Flags changed]
[10 of 14] Compiling HRich.Table      ( src/HRich/Table.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Table.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Table.dyn_o ) [Flags changed]
[11 of 14] Compiling HRich.Syntax     ( src/HRich/Syntax.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Syntax.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Syntax.dyn_o )
src/HRich/Syntax.hs:20:1: warning: [GHC-66111] [-Wunused-imports]
    The qualified import of ‘Data.Text’ is redundant
      except perhaps to import instances from ‘Data.Text’
    To import instances alone, use: import Data.Text()
   |
20 | import qualified Data.Text as T
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

src/HRich/Syntax.hs:25:1: warning: [GHC-66111] [-Wunused-imports]
    The import of ‘Data.Functor’ is redundant
      except perhaps to import instances from ‘Data.Functor’
    To import instances alone, use: import Data.Functor()
   |
25 | import Data.Functor (($>))
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^

[12 of 14] Compiling HRich.Console    ( src/HRich/Console.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Console.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Console.dyn_o ) [Flags changed]
[13 of 14] Compiling HRich.Prompt     ( src/HRich/Prompt.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Prompt.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Prompt.dyn_o )
src/HRich/Prompt.hs:21:1: warning: [GHC-66111] [-Wunused-imports]
    The qualified import of ‘HRich.Text’ is redundant
      except perhaps to import instances from ‘HRich.Text’
    To import instances alone, use: import HRich.Text()
   |
21 | import qualified HRich.Text as HText
   | ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

[14 of 14] Compiling HRich.Tree       ( src/HRich/Tree.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Tree.o, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/build/HRich/Tree.dyn_o )
src/HRich/Tree.hs:39:9: warning: [GHC-40910] [-Wunused-local-binds]
    Defined but not used: ‘rootLines’
   |
39 |     let rootLines = renderLines opts val
   |         ^^^^^^^^^

src/HRich/Tree.hs:44:9: warning: [GHC-40910] [-Wunused-local-binds]
    Defined but not used: ‘rootSegments’
   |
44 |         rootSegments = map ((Segment prefix Nothing :) . (:[])) (concat rootLines) -- Slight hack, flatten segments
   |         ^^^^^^^^^^^^

src/HRich/Tree.hs:47:9: warning: [GHC-40910] [-Wunused-local-binds]
    Defined but not used: ‘renderedRoot’
   |
47 |         renderedRoot = if null rootLines then [] else head rootLines
   |         ^^^^^^^^^^^^

src/HRich/Tree.hs:47:55: warning: [GHC-63394] [-Wx-partial]
    In the use of ‘head’
    (imported from Prelude, but defined in GHC.Internal.List):
    "This is a partial function, it throws an error on empty lists. Use pattern matching, 'Data.List.uncons' or 'Data.Maybe.listToMaybe' instead. Consider refactoring to use "Data.List.NonEmpty"."
   |
47 |         renderedRoot = if null rootLines then [] else head rootLines
   |                                                       ^^^^

src/HRich/Tree.hs:49:9: warning: [GHC-40910] [-Wunused-local-binds]
    Defined but not used: ‘renderChildren’
   |
49 |         renderChildren _ [] = []
   |         ^^^^^^^^^^^^^^

src/HRich/Tree.hs:55:9: warning: [GHC-40910] [-Wunused-local-binds]
    Defined but not used: ‘renderChild’
   |
55 |         renderChild p c isLast =
   |         ^^^^^^^^^^^

src/HRich/Tree.hs:58:17: warning: [GHC-40910] [-Wunused-local-binds]
    Defined but not used: ‘childRoot’
   |
58 |                 childRoot = renderLines opts (nodeValue c)
   |                 ^^^^^^^^^

src/HRich/Tree.hs:61:17: warning: [GHC-40910] [-Wunused-local-binds]
    Defined but not used: ‘firstLineSegments’
   |
61 |                 firstLineSegments = case childRoot of
   |                 ^^^^^^^^^^^^^^^^^

src/HRich/Tree.hs:68:17: warning: [GHC-40910] [-Wunused-local-binds]
    Defined but not used: ‘grandChildrenLines’
   |
68 |                 grandChildrenLines = renderTreeLines opts c (p `T.append` nextPrefix)
   |                 ^^^^^^^^^^^^^^^^^^

src/HRich/Tree.hs:87:28: warning: [GHC-18042] [-Wtype-defaults]
    • Defaulting the type variable ‘a0’ to type ‘Integer’ in the following constraints
        (Eq a0) arising from a use of ‘==’ at src/HRich/Tree.hs:87:28-29
        (Num a0) arising from the literal ‘0’ at src/HRich/Tree.hs:87:31
        (Enum a0)
          arising from the arithmetic sequence ‘0 .. ’
          at src/HRich/Tree.hs:90:50-54
    • In the expression: idx == 0
      In the expression: if idx == 0 then currentPrefix else childPrefix
      In an equation for ‘p’:
          p = if idx == 0 then currentPrefix else childPrefix
   |
87 |             let p = if idx == 0 then currentPrefix else childPrefix
   |                            ^^

Configuring executable 'h-rich-demo' for h-rich-0.1.0.0...
Preprocessing executable 'h-rich-demo' for h-rich-0.1.0.0...
Building executable 'h-rich-demo' for h-rich-0.1.0.0...
[1 of 1] Compiling Main             ( demo/Main.hs, /home/jhhuh/Sync/proj/h-rich/h-rich/dist-newstyle/build/x86_64-linux/ghc-9.10.3/h-rich-0.1.0.0/x/h-rich-demo/build/h-rich-demo/h-rich-demo-tmp/Main.o ) [Source file changed]
demo/Main.hs:54:113: error: [GHC-76037]
    Not in scope: ‘Text.renderSegment’
    NB: the module ‘HRich.Text’ does not export ‘renderSegment’.
    Suggested fix:
      Perhaps use one of these:
        ‘Text.renderText’ (imported from HRich.Text),
        ‘Segment.renderSegment’ (imported from HRich.Segment)
   |
54 |     let treeView = Panel.panel (Text.fromMarkup "Tree View" P.<> (Text.fromMarkup "\n\n") P.<> Text.fromMarkup (Text.renderSegment (Segment.Segment ((P.head (Tree.renderLines (Console.ConsoleOptions 80 P.Nothing) (Tree.Tree treeNode)) P.!! 0) `P.seq` "") P.Nothing))) -- Hacky insert? No, let's just render the tree properly.
   |                                                                                                                 ^^^^^^^^^^^^^^^^^^

demo/Main.hs:54:159: error: [GHC-76037]
    Not in scope: ‘Tree.renderLines’
    NB: the module ‘HRich.Tree’ does not export ‘renderLines’.
   |
54 |     let treeView = Panel.panel (Text.fromMarkup "Tree View" P.<> (Text.fromMarkup "\n\n") P.<> Text.fromMarkup (Text.renderSegment (Segment.Segment ((P.head (Tree.renderLines (Console.ConsoleOptions 80 P.Nothing) (Tree.Tree treeNode)) P.!! 0) `P.seq` "") P.Nothing))) -- Hacky insert? No, let's just render the tree properly.
   |                                                                                                                                                               ^^^^^^^^^^^^^^^^

demo/Main.hs:54:177: error: [GHC-76037]
    Not in scope: data constructor ‘Console.ConsoleOptions’
    NB: the module ‘HRich.Console’ does not export ‘ConsoleOptions’.
   |
54 |     let treeView = Panel.panel (Text.fromMarkup "Tree View" P.<> (Text.fromMarkup "\n\n") P.<> Text.fromMarkup (Text.renderSegment (Segment.Segment ((P.head (Tree.renderLines (Console.ConsoleOptions 80 P.Nothing) (Tree.Tree treeNode)) P.!! 0) `P.seq` "") P.Nothing))) -- Hacky insert? No, let's just render the tree properly.
   |                                                                                                                                                                                 ^^^^^^^^^^^^^^^^^^^^^^

